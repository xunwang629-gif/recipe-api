# https://www.playframework.com/documentation/latest/Configuration

# Application secret (required in production)
play.http.secret.key="changeme"
play.http.secret.key=${?APPLICATION_SECRET}

# Allowed hosts filter (allow Render.com hosts)
play.filters.hosts.allowed = [".onrender.com", "localhost"]

# Database configuration
db.default.driver=org.postgresql.Driver

# Production: Render provides DATABASE_URL in format: postgresql://user:pass@host:port/dbname
# We need to convert it to JDBC format in start.sh
# Development: fallback to localhost if not set
db.default.url="jdbc:postgresql://localhost:5432/recipe_db"
db.default.url=${?JDBC_DATABASE_URL}

# Username and password are embedded in JDBC_DATABASE_URL in production
# For development, use these defaults
db.default.username="postgres"
db.default.username=${?DB_USERNAME}

db.default.password="postgres"
db.default.password=${?DB_PASSWORD}

# Evolutions configuration
play.evolutions.db.default.enabled=true
play.evolutions.db.default.autoApply=${?AUTO_APPLY_EVOLUTIONS}
play.evolutions.db.default.autoApply=true